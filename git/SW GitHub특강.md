# GitHub 특강



### GitHub에 코드를 올리는과정

1. 내 컴퓨터 프로젝트 폴더에 여기에서 Git을 쓸거다라고 명령  (Git init)
2. 즐겁게 코딩
3. 내가 변경한 파일 중 올리길 원하는 것만 선택 (Git add)
4. 선택한 파일들을 한 덩어리로 만들고 설명적어주기(Git commit)
5. 코딩 끝났으니 밥 먹고 오기
6. GitHub 사이트에서 프로젝트 저장소 만들기
7. 내 컴퓨터 프로젝트 폴더에 GitHub 저장소 주소 알려주기(Git remote)
8. 내 컴퓨터에 만들었던 덩어리 GitHub에 올리기(Git push)



### 커밋 이모저모

1. 커밋은 '의미 있는 변동사항'을 묶어서 만든다.
2. 버튼 클릭 버그를 고치는 데 5가지 파일을 수정했다면 그 5개를 묶어서 하나의 커밋으로 만든다.
3. 동료 개발자(혹은 미래의 나)가 '버튼 클릭 버그'를 고치는 데 어떤 파일을 수정했는지 손쉽게 파악 가능
4. 커밋 메세지를 적는 게 귀찮아도 시간 조금이라도 들여주세요. 나중에 후회하지 않게 됩니다.



### 로컬 저장소와 원격 저장소

로컬 저장소 → push → 원격 저장소

1. GitHub에 저장소 생성

2. 내 컴퓨터 해당 폴더에 GitHub 저장소 주소를 알려준다.

   `git remote add origin 주소`

3. 만든 커밋 푸시하기

   `git push origin master`

4. GitHub 사이트에서 올라간 커밋 확인

### 원격 저장소를 내 컴퓨터에 받아오기 : 클론(clone)

클론을 하면 원격 저장소의 코드를 내 컴퓨터에 받아올 수 있다. 

로컬 저장소(.git 폴더)도 자동으로 생긴다.

`git clone 주소 .`

마지막에 점을 찍어주면 현재 폴더에 생성. 안 찍어주면 새 폴더 생성. 

### 원격 저장소의 데이터 가져오기 : 풀(pull)



### Git에서의 커밋이란?

1. 변경 사항의 모음이라기보다는, 하나의 최종 코드 모음
2. 다만 기존 커밋과 비교해서 변경된 파일이 아니면 변경되지 않았다고만 저장해서 용량이 무겁지 않다.



### git status

untracked file을 add를 하면 스테이지에 올라감

commit하면 파일들이 수정없음으로 돌아가게 된다.



파일의 4가지 상태

- untracked(한 번도 안 올라온 파일)
- tracked
  - 수정없음
  - 수정함
  - 스테이지됨

작업 공간에 있는 수정함, 추적안됨 파일을 스테이지에 올려 스테이지됨으로 변경한다

커밋을 하면 수정없음 상태로 돌아가서 다시 파일을 수정할 수 있다

### 한 줄로 커밋을 쌓으면 둘이 겹치지 않나요?

여러줄로 쌓으면 됩니다 → **branch**

Q. 왜 같이 작업하려면 여러 줄로 커밋을 쌓아야하나요?

A. 한 줄에서 작업하면 충돌이 날 수 있습니다. 똑같은 코드를 동시에 고칠 가능성이 있죠

Q. 그럼 n줄로 쌓고 나중에 합치나요?

A. 네 그럼 충돌이 나더라도 합치는 시점에 명시적으로 충돌을 해결할 수 있습니다.



사실 `git push origin master` 에서도 master도 브랜치 중 하나

head는 내가 지금 작업하는 로컬 브랜치를 말한다.



### 브랜치 만들기

`git branch cat`

### 만든 브랜치로 이동하기

`git checkout cat`

### feat 브랜치에서 작업이 끝났어요! 이제 master에 합치고 싶어요

master 브랜치의 최신 커밋에(base) oct브랜치의 최신 커밋(compare)을 합치려고 한다. 

1. 먼저 base가 될 master 브랜치로 이동
2. compare 브랜치인 oct를 나와 합치고 싶다고 선언 `git merge oct`
3. 합쳐진 결과는 문어A 커밋

### 컨플릭트 해결

머지할 때 두 버전이 같은 곳을 수정했다면 이를 수동으로 고쳐줘야한다.

### 저장소 통째로 복사하기 : 포크(fork)

1. 고양&문어의 Boxiting 저장소를 통째로 너구리의 계정에 복제해와서
2. 그 저장소(내꺼)에 자유롭게 커밋, 푸시를 하고
3. 내 저장소의 브랜치와 고양&문어 저장소의 브랜치를 머지해달라고 요청하면 된다



### 브랜치 vs 포크

|        | 의의                                     | 편리한 점                                                    | 불편한 점                                               |
| ------ | ---------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------- |
| 브랜치 | 하나의 원본 저장소에서 분기를 나눈다.    | 하나의 원본 저장소에서 코드 커밋 이력을 편하게 볼 수 있다.   | 다수의 사용자가 다수의 브랜치를 만들면 관리하기 힘들다. |
| 포크   | 여러 원격 저장소를 만들어 분기를 나눈다. | 원본 저장소에 영향을 미치지 않으므로 마음껏 코드를 수정할 수 있다. | 원본저장소의 이력을 보려면 따로 주소를 추가해줘야 한다. |

### 내 코드를 머지해주면 안되겠니?

포크한 저장소에서 기능 개발을 마쳤다.

이제 이 코드를 고양&문어의 원본 저장소에 머지해달라고 하고 싶다. 

너구리는 원본 저장소에 코드를 올릴 권한이 없는데 어떡하죠?



### 이 커밋이랑 저 커밋이랑 합치는 걸 허락해줘! 풀 리퀘스트(pull request)

1. 머지하고 싶은 두 브랜치를 선택하고
2. 어떤 변경을 했는지 제목과 내용에 쓰면 된다.
3. 단일 저장소에서 보낼 수도 있고, 이렇게 포크한 저장소에서도 보낼 수 있다.



### 풀 리퀘스트로 머지 요청 보내기

1. 코드와 함께 작성하는 팀원이 있다면, 최대한 직접 머지하는 건 피하고 모든 머지를 풀 리퀘스트를 통해서 하세요

2. 동료가 내 풀 리퀘스트를 보고 코드를 리뷰할 수 있습니다.
3. 동료의 PR에 수정이 필요하면 댓글을 달아 change request를 보낼 수 있습니다.
4. 오픈소스에 PR을 보낼 대는 기여 안내문서를 반드시 참고해야합니다.



### Tip: 브랜치 관리하기

1. 보통 `feat/기능이름`으로 한 사람이 개발하는 기능 브랜치를 만든다. (혹은 feat 말고도 fix/버그이름, hotfix/급한 버그)
2. 작업이 끝아면 dev (혹은 master)브랜치로 PR을 보낸다.
3. dev 브랜치에서 큼지막한 작업이 모두 머지되면 release(혹은 latest) 브랜치로 머지시키고 이를 실서버에 배포한다.
4. 직접 커밋은 feat(혹은 fix , hotfix) 브랜치에만 한다.
5. dev나 master, release 브랜치에는 직접 커밋하지 말고 머지만 한다.



### 실무 사례와 함께 Git 정복하기

1. amend : 깜빡하고 수정못한 파일이 있어요. 방금 만든 커밋에 살짝 추가하고 싶어요
2. cherry-pick : 저 커밋 하나만 떼서 지금 브랜치에 붙이고 싶어요
3. reset : 옛날 커밋으로 브랜치를 되돌리고 싶어요 - 이 때는 그냥 푸시로는 안되고 강제푸시를 해야함
4. revert : 커밋을 잘못 만들었다! → 이 커밋의 변경사항을 되돌리고 싶어요
   - 사이트 제목 삭제라는 커밋 생성
   - 방금 만든 커밋 revert하는 커밋 생성(소스트리에서는 reverse)
5. stash : 변경사항을 잠시 킵해두고 싶어요. 아직 커밋은 안 만들래요